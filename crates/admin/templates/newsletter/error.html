{% extends "layouts/base.html" %}

{% block title %}Newsletter Error{% endblock %}

{% block page_title %}Newsletter{% endblock %}

{% block page_subtitle %}
<p class="text-sm text-muted-foreground mt-1">An error occurred</p>
{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto">
    <div class="bg-card rounded-xl border border-border overflow-hidden">
        <div class="p-6 text-center">
            <!-- Error Icon -->
            <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-destructive/10 flex items-center justify-center">
                <i class="ph ph-warning-circle text-3xl text-destructive"></i>
            </div>

            <!-- Error Title -->
            <h2 class="text-xl font-semibold text-foreground mb-2">{{ title }}</h2>

            <!-- Error Message -->
            <p class="text-muted-foreground mb-6">{{ message }}</p>

            <!-- Actions -->
            <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
                <a href="/newsletter"
                   class="inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="ph ph-house"></i>
                    Newsletter Dashboard
                </a>
                <button type="button"
                        onclick="history.back()"
                        class="inline-flex items-center gap-2 px-4 py-2 text-muted-foreground hover:text-foreground transition-colors">
                    <i class="ph ph-arrow-left"></i>
                    Go Back
                </button>
            </div>
        </div>

        {% if show_config_help %}
        <!-- Configuration Help -->
        <div class="px-6 py-4 border-t border-border bg-muted/30">
            <p class="text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2">Configuration Required</p>
            <p class="text-sm text-muted-foreground mb-3">
                To enable newsletter features, configure the following environment variables:
            </p>
            <div class="bg-card rounded-lg p-3 font-mono text-xs text-muted-foreground">
                <p>KLAVIYO_API_KEY=pk_xxxx</p>
                <p>KLAVIYO_LIST_ID=Xxxxx</p>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
