@import "tailwindcss";
@plugin "@tailwindcss/forms";

/* Admin Panel - Tailwind v4 Configuration */

@layer base {
  :root {
    /* Brand palette */
    --coral: #d63a2f;
    --honey: #daa520;
    --cream: #fdfbf7;
    --sand: #f5f0e8;
    --leaf: #4a7c59;

    /* Light mode semantic colors */
    --background: var(--sand);
    --foreground: #1f2937;
    --card: #ffffff;
    --card-foreground: #1f2937;
    --muted: #f3f4f6;
    --muted-foreground: #6b7280;
    --border: #e5e7eb;
    --input: #e5e7eb;
    --ring: var(--coral);
  }

  /* Dark mode - triggered by .dark class */
  .dark {
    --background: #030712;
    --foreground: #f9fafb;
    --card: #111827;
    --card-foreground: #f9fafb;
    --muted: #1f2937;
    --muted-foreground: #9ca3af;
    --border: #1f2937;
    --input: #1f2937;
    --ring: var(--coral);
  }
}

/* Register with Tailwind v4 */
@theme inline {
  /* Breakpoints (Tailwind v4 defaults, explicit for documentation) */
  --breakpoint-sm: 40rem;   /* 640px */
  --breakpoint-md: 48rem;   /* 768px */
  --breakpoint-lg: 64rem;   /* 1024px */
  --breakpoint-xl: 80rem;   /* 1280px */
  --breakpoint-2xl: 96rem;  /* 1536px */

  /* Container query breakpoints (Tailwind v4 defaults) */
  --container-3xs: 16rem;   /* 256px */
  --container-2xs: 18rem;   /* 288px */
  --container-xs: 20rem;    /* 320px */
  --container-sm: 24rem;    /* 384px */
  --container-md: 28rem;    /* 448px */
  --container-lg: 32rem;    /* 512px */
  --container-xl: 36rem;    /* 576px */
  --container-2xl: 42rem;   /* 672px */
  --container-3xl: 48rem;   /* 768px */
  --container-4xl: 56rem;   /* 896px */
  --container-5xl: 64rem;   /* 1024px */
  --container-6xl: 72rem;   /* 1152px */
  --container-7xl: 80rem;   /* 1280px */

  /* Brand colors */
  --color-coral: var(--coral);
  --color-honey: var(--honey);
  --color-cream: var(--cream);
  --color-sand: var(--sand);
  --color-leaf: var(--leaf);

  /* Semantic colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Gray scale for Tailwind compatibility */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;

  /* White/Black */
  --color-white: #ffffff;
  --color-black: #000000;

  /* Font families */
  --font-display: "Playfair Display", serif;
  --font-sans: "DM Sans", sans-serif;
}

@layer base {
  body {
    font-family: var(--font-sans);
  }

  .font-display {
    font-family: var(--font-display);
  }
}

@layer base {
  /* "Midnight Clarity" Admin Design Language - Dark-first palette */
  :root {
    --admin-bg: 0 0% 100%;           /* Light mode: white */
    --admin-surface: 0 0% 98%;       /* Light mode: near-white */
    --admin-surface-2: 0 0% 96%;     /* Light mode: slight gray */
    --admin-border: 0 0% 90%;        /* Light mode borders */
    --admin-border-focus: 0 0% 80%;  /* Light mode focus */
    --admin-text: 0 0% 9%;           /* Light mode text */
    --admin-text-muted: 0 0% 45%;    /* Light mode muted */
    --admin-accent: 6 71% 51%;       /* Coral */
    --admin-accent-secondary: 239 84% 67%; /* Indigo */
  }

  .dark {
    --admin-bg: 240 20% 4%;          /* Near-black with blue undertone: #0a0a0f */
    --admin-surface: 240 12% 9%;     /* Cards: #141419 */
    --admin-surface-2: 240 10% 13%;  /* Hover: #1c1c24 */
    --admin-border: 240 8% 18%;      /* Borders: #2a2a35 */
    --admin-border-focus: 240 7% 27%; /* Focus: #3d3d4d */
    --admin-text: 240 5% 90%;        /* Text: #e4e4e7 */
    --admin-text-muted: 240 4% 46%;  /* Muted: #71717a */
    --admin-accent: 6 71% 51%;       /* Coral (retained) */
    --admin-accent-secondary: 239 84% 67%; /* Indigo */
  }
}

@layer components {
  /* SortableJS drag states */
  [data-media-id].sortable-ghost {
    opacity: 0.3;
  }

  [data-media-id].sortable-drag {
    cursor: grabbing;
  }

  [data-media-id] img {
    cursor: grab;
  }

  [data-media-id] img:active {
    cursor: grabbing;
  }

  /* Quill Editor Dark Mode */
  .dark .ql-toolbar.ql-snow,
  .dark .ql-container.ql-snow {
    border-color: rgb(55, 65, 81);
    background-color: rgb(31, 41, 55);
  }
  .dark .ql-editor {
    color: rgb(243, 244, 246);
  }
  .dark .ql-editor.ql-blank::before {
    color: rgb(156, 163, 175);
  }
  .dark .ql-snow .ql-stroke {
    stroke: rgb(156, 163, 175);
  }
  .dark .ql-snow .ql-fill {
    fill: rgb(156, 163, 175);
  }
  .dark .ql-snow .ql-picker {
    color: rgb(156, 163, 175);
  }
  .dark .ql-snow .ql-picker-options {
    background-color: rgb(31, 41, 55);
    border-color: rgb(55, 65, 81);
  }
  .dark .ql-toolbar.ql-snow button:hover .ql-stroke,
  .dark .ql-toolbar.ql-snow button.ql-active .ql-stroke {
    stroke: rgb(243, 244, 246);
  }
  .dark .ql-toolbar.ql-snow button:hover .ql-fill,
  .dark .ql-toolbar.ql-snow button.ql-active .ql-fill {
    fill: rgb(243, 244, 246);
  }
  .dark .ql-toolbar.ql-snow .ql-picker-label:hover,
  .dark .ql-toolbar.ql-snow .ql-picker-label.ql-active {
    color: rgb(243, 244, 246);
  }
  .dark .ql-snow .ql-picker-options .ql-picker-item:hover {
    color: rgb(243, 244, 246);
  }

  /* Quill editor rounded corners */
  .ql-toolbar.ql-snow {
    border-top-left-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
  }
  .ql-container.ql-snow {
    border-bottom-left-radius: 0.5rem;
    border-bottom-right-radius: 0.5rem;
  }

  /* Sidebar styles */
  .sidebar {
    transition: width 0.2s ease-in-out;
  }

  .sidebar.collapsed {
    width: 4rem;
  }

  .sidebar.collapsed .sidebar-text {
    display: none;
  }

  .sidebar.collapsed .sidebar-logo {
    justify-content: center;
  }

  .sidebar.collapsed .nav-item {
    justify-content: center;
    padding-left: 0;
    padding-right: 0;
  }

  .sidebar.collapsed .nav-item i {
    margin-right: 0;
  }

  /* Main content transition */
  .main-content {
    transition: margin-left 0.2s ease-in-out;
  }
}
